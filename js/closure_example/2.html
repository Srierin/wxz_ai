<script>
  function debounce(fn, delay) {

    //
    return function (args) {
      // 定时器会返回ID
      // fn 是自由变量
      // fn 函数也是对象
      var that = this;
      console.log(that, '////')
      clearTimeout(fn.id);
      fn.id = setTimeout(function () {
        // this 丢失问题
        fn.call(that, args);
      }, delay)
    }
  }

  let obj = {
    count: 0,
    inc: debounce(function (val) {
      // this 
      console.log(this.count += val);
      console.log(this.count, '////')
     
    }, 500)
  }
  obj.inc(1);
</script>